
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MingDynasty的个人主页 | 明朝风韵</title>
    <link rel="icon" href="https://MingDynasty1.github.io/000000000000000000.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="server.css">
    <!-- 人机验证检查脚本 -->
    <script>
        // 检查是否已经通过人机验证
        function checkHumanVerification() {
            // 从cookie中获取验证结果
            const getCookie = (name) => {
                const value = `; ${document.cookie}`;
                const parts = value.split(`; ${name}=`);
                if (parts.length === 2) return parts.pop().split(';').shift();
                return null;
            };
            
            const verificationCookie = getCookie('JSESSIONID');
            
            // 如果没有验证cookie，跳转到验证页面
            if (!verificationCookie) {
                window.location.href = 'https://mingdynasty1.github.io/Check-for-People-Robot.html';
                return false;
            }
            
            // 验证cookie的有效性
            try {
                const verificationData = JSON.parse(atob(verificationCookie));
                if (verificationData && verificationData.verified && verificationData.timestamp) {
                    // 检查是否在有效期内（例如24小时）
                    const now = new Date().getTime();
                    const verificationTime = new Date(verificationData.timestamp).getTime();
                    const hoursDiff = (now - verificationTime) / (1000 * 60 * 60);
                    
                    if (hoursDiff < 24) {
                        return true; // 验证有效
                    }
                }
            } catch (e) {
                console.error('验证cookie解析失败:', e);
            }
            
            // 验证失败，跳转到验证页面
            window.location.href = 'https://mingdynasty1.github.io/Check-for-People-Robot.html';
            return false;
        }

        // 页面加载时检查验证
        document.addEventListener('DOMContentLoaded', function() {
            // 延迟检查，确保页面完全加载
            setTimeout(() => {
                checkHumanVerification();
            }, 100);
        });
    </script>
</head>
<body class="light-mode">
    <header>
        <div class="container">
            <h1 class="ming-decoration" data-lang="zh">MingDynasty 的个人主页</h1>
            <h1 class="ming-decoration" data-lang="en" style="display: none;">MingDynasty's Personal Homepage</h1>
            <p data-lang="zh">传承明朝风韵，展现编程之美</p>
            <p data-lang="en" style="display: none;">Inheriting the Charm of the Ming Dynasty, Showcasing the Beauty of Programming</p>
            <!-- 访问量统计 -->
            <div class="visitor-counter">
                <span data-lang="zh">主页访问量：</span>
                <span data-lang="en" style="display: none;">Homepage Visits:</span>
                <img src="https://w.saobby.com/w/egtt98hj" alt="访问量统计">
            </div>
        </div>
    </header>
    
    <nav>
        <div class="container">
            <a href="https://mingdynasty1.github.io/OImap.html" data-lang="zh">主页导航</a>
            <a href="https://mingdynasty1.github.io/OImap.html" data-lang="en" style="display: none;">Home Navigation</a>
            
            <a href="https://MingDynasty1.github.io/MgDy.html" data-lang="zh">个人信息</a>
            <a href="https://MingDynasty1.github.io/MgDy.html" data-lang="en" style="display: none;">Personal Info</a>
            
            <a href="https://mingdynasty1.github.io/friends/friends.html" data-lang="zh">友链</a>
            <a href="https://mingdynasty1.github.io/friends/friends.html" data-lang="en" style="display: none;">Friends</a>
            <a href="https://mingdynasty1.github.io/news/" data-lang="zh">大明新闻</a>
            <a href="https://mingdynasty1.github.io/news/" data-lang="en" style="display: none;">Ming News</a>
            
            <a href="https://MingDynasty1.github.io/OnlineJudge/index.html" data-lang="zh">免费网盘</a>
            <a href="https://MingDynasty1.github.io/OnlineJudge/index.html" data-lang="en" style="display: none;">Free Cloud Storage</a>
            
            <a href="https://mingdynasty1.github.io/cbpan_help/MingDynasty_cbpan_help.html" data-lang="zh">网盘帮助中心</a>
            <a href="https://mingdynasty1.github.io/cbpan_help/MingDynasty_cbpan_help.html" data-lang="en" style="display: none;">Cloud Storage Help</a>
            
            <a href="https://www.luogu.com.cn/contest/247666" data-lang="zh">比赛宣传</a>
            <a href="https://www.luogu.com.cn/contest/247666" data-lang="en" style="display: none;">Contest Promotion</a>
            <a href="https://mingdynasty1.github.io/join-us/" data-lang="zh">大明招聘</a>
            <a href="https://mingdynasty1.github.io/join-us" data-lang="en" style="display: none;">Ming join</a>
            <a href="https://mingdynasty1.github.io/game.html" data-lang="zh">益智小游戏</a>
            <a href="https://mingdynasty1.github.io/game.html" data-lang="en" style="display: none;">Puzzle Games</a>

            <a href="https://mingdynasty1.github.io/code/index.html" data-lang="zh">大明 OJ</a>
            <a href="https://mingdynasty1.github.io/code/index.html" data-lang="en" style="display: none;">Ming OnlineJudge</a>
             <a href="https://mingdynasty1.github.io/film/index.html" data-lang="zh">大明电影</a>
            <a href="https://mingdynasty1.github.io/film/index.html" data-lang="en" style="display: none;">Ming film</a>
            <a href="https://mingdynasty1.github.io/2048.html" data-lang="zh">2048游戏</a>
            <a href="https://mingdynasty1.github.io/2048.html" data-lang="en" style="display: none;">2048 Game</a>
            
            <a href="https://mingdynasty1.github.io/gxrz.html" data-lang="zh">更新日志</a>
            <a href="https://mingdynasty1.github.io/gxrz.html" data-lang="en" style="display: none;">Update Log</a>
            <a href="https://mingdynasty1.github.io/join-us/" data-lang="zh">大明招聘</a>
            <a href="https://mingdynasty1.github.io/join-us/" data-lang="en" style="display: none;">Ming join</a>
            <a href="https://MingDynasty1.github.io/calc.html" data-lang="zh">计算器</a>
            <a href="https://MingDynasty1.github.io/calc.html" data-lang="en" style="display: none;">Calculator</a>
            
            <a href="https://MingDynasty1.github.io/dmgame.html" data-lang="zh">大明皇帝模拟器</a>
            <a href="https://MingDynasty1.github.io/dmgame.html" data-lang="en" style="display: none;">Ming Emperor Simulator</a>
            
            <a href="https://mingdynasty1.github.io/dmhpy.html" data-lang="zh">大明国庆</a>
            <a href="https://mingdynasty1.github.io/dmhpy.html" data-lang="en" style="display: none;">Ming National Day</a>
            
            <a href="https://MingDynasty1.github.io/MgDyhistory.html" data-lang="zh">大明历史</a>
            <a href="https://MingDynasty1.github.io/MgDyhistory.html" data-lang="en" style="display: none;">Ming History</a>

 <a href="https://MingDynasty1.github.io/days/" data-lang="zh">大明日历</a>
            <a href="https://MingDynasty1.github.io/days/" data-lang="en" style="display: none;">Ming Date</a>
            
            <!-- 添加人生模拟器链接 -->
            <a href="https://MingDynasty1.github.io/People-Remake-Life.html" data-lang="zh">人生模拟器</a>
            <a href="https://MingDynasty1.github.io/People-Remake-Life.html" data-lang="en" style="display: none;">Life Simulator</a>
            
            <!-- 添加贪吃蛇游戏链接 -->
            <a href="https://mingdynasty1.github.io/MapMgDy.html" data-lang="zh">大明导航</a>
            <a href="https://mingdynasty1.github.io/MapMgDy.html" data-lang="en" style="display: none;">Ming Navigation</a>
            
            <a href="https://MingDynasty1.github.io/snakegame.html" data-lang="zh">贪吃蛇游戏</a>
            <a href="https://MingDynasty1.github.io/snakegame.html" data-lang="en" style="display: none;">Snake Game</a>
            
            <!-- 添加联系我们链接 -->
            <a href="https://MingDynasty1.github.io/contact-us-MgDy.html" data-lang="zh">联系我们</a>
            <a href="https://MingDynasty1.github.io/contact-us-MgDy.html" data-lang="en" style="display: none;">Contact Us</a>
            
            <!-- 添加博客主页链接 -->
            <a href="https://MingDynasty1.github.io/blog/index.html" style="background-color: rgba(255,255,255,0.2);" data-lang="zh">博客主页</a>
            <a href="https://MingDynasty1.github.io/blog/index.html" style="background-color: rgba(255,255,255,0.2); display: none;" data-lang="en">Blog Homepage</a>
            
            <a href="https://MingDynasty1.github.io/luntan/index.html" data-lang="zh">大明论坛</a>
            <a href="https://MingDynasty1.github.io/luntan/index.html" data-lang="en" style="display: none;">Ming Forum</a>

            <a href="https://mingdynasty1.github.io/Check-for-People-Robot.html" data-lang="zh">人机验证</a>
            <a href="https://mingdynasty1.github.io/Check-for-People-Robot.html" data-lang="en" style="display: none;">Check If You're A Robot</a>
            
            <!-- 添加常见问题解答链接 -->
            <a href="https://MingDynasty1.github.io/FAQ.html" data-lang="zh">常见问题解答</a>
            <a href="https://MingDynasty1.github.io/FAQ.html" data-lang="en" style="display: none;">FAQ</a>

            <div class="theme-switch">
                <label class="theme-switch-label">
                    <i class="fas fa-moon"></i>
                    <span class="switch">
                        <input type="checkbox" id="theme-toggle">
                        <span class="slider"></span>
                    </span>
                    <i class="fas fa-sun"></i>
                </label>
            </div>
            
            <div class="language-switch">
                <button class="language-btn" id="language-toggle">
                    <span data-lang="zh">EN</span>
                    <span data-lang="en" style="display: none;">中文</span>
                </button>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <!-- 时间报时器 -->
        <div class="time-display">
            <div id="current-time">00:00:00</div>
            <div id="current-date" data-lang="zh">0000年00月00日 星期X</div>
            <div id="current-date-en" data-lang="en" style="display: none;">Monday, January 1, 2000</div>
        </div>
        
        <!-- 每日打卡卡片 -->
        <div class="daily-checkin-card">
            <h3><i class="fas fa-calendar-check"></i> <span data-lang="zh">每日打卡</span><span data-lang="en" style="display: none;">Daily Check-in</span></h3>
            
            <div class="checkin-stats">
                <div class="checkin-stat">
                    <h4 data-lang="zh">连续打卡</h4>
                    <h4 data-lang="en" style="display: none;">Consecutive Days</h4>
                    <p id="consecutive-days">0</p>
                </div>
                <div class="checkin-stat">
                    <h4 data-lang="zh">总打卡天数</h4>
                    <h4 data-lang="en" style="display: none;">Total Days</h4>
                    <p id="total-days">0</p>
                </div>
                <div class="checkin-stat">
                    <h4 data-lang="zh">今日运势</h4>
                    <h4 data-lang="en" style="display: none;">Today's Fortune</h4>
                    <p id="today-fortune">-</p>
                </div>
            </div>
            
            <div class="fortune-result">
                <div class="fortune-level" id="fortune-level">-</div>
                <div class="fortune-message" id="fortune-message" data-lang="zh">点击下方按钮抽取今日运势</div>
                <div class="fortune-message" id="fortune-message-en" style="display: none;">Click the button below to draw today's fortune</div>
            </div>
            
            <button class="checkin-btn" id="checkin-btn" data-lang="zh">抽签打卡</button>
            <button class="checkin-btn" id="checkin-btn-en" style="display: none;" data-lang="en">Draw Fortune & Check-in</button>
            
            <div class="checkin-history">
                <h4 data-lang="zh">打卡历史</h4>
                <h4 data-lang="en" style="display: none;">Check-in History</h4>
                <ul id="checkin-history-list">
                    <li data-lang="zh"><span class="checkin-date">暂无记录</span><span class="checkin-fortune">-</span></li>
                    <li data-lang="en" style="display: none;"><span class="checkin-date">No records</span><span class="checkin-fortune">-</span></li>
                </ul>
            </div>
        </div>
        
        <!-- 新增大明历史卡片 -->
        <div class="history-card">
            <h3><i class="fas fa-landmark"></i> <span data-lang="zh">探索大明历史</span><span data-lang="en" style="display: none;">Explore Ming Dynasty History</span></h3>
            <p data-lang="zh">大明王朝（1368年－1644年）是中国历史上一个辉煌的朝代，由明太祖朱元璋建立。明朝在政治、经济、文化、科技等方面都取得了巨大成就，留下了丰富的历史遗产。</p>
            <p data-lang="en" style="display: none;">The Ming Dynasty (1368-1644) was a glorious period in Chinese history, founded by Emperor Hongwu (Zhu Yuanzhang). The Ming Dynasty achieved great accomplishments in politics, economy, culture, and technology, leaving behind a rich historical legacy.</p>
            
            <div class="history-features">
                <div class="history-feature">
                    <i class="fas fa-crown"></i>
                    <h4 data-lang="zh">明朝皇帝</h4>
                    <h4 data-lang="en" style="display: none;">Ming Emperors</h4>
                    <p data-lang="zh">从朱元璋到崇祯帝，了解16位明朝皇帝的统治历程</p>
                    <p data-lang="en" style="display: none;">Learn about the reigns of 16 Ming emperors from Hongwu to Chongzhen</p>
                </div>
                <div class="history-feature">
                    <i class="fas fa-ship"></i>
                    <h4 data-lang="zh">郑和下西洋</h4>
                    <h4 data-lang="en" style="display: none;">Zheng He's Voyages</h4>
                    <p data-lang="zh">探索明朝航海技术的巅峰，郑和七次下西洋的壮举</p>
                    <p data-lang="en" style="display: none;">Explore the peak of Ming maritime technology and Zheng He's seven voyages</p>
                </div>
                <div class="history-feature">
                    <i class="fas fa-paint-brush"></i>
                    <h4 data-lang="zh">文化艺术</h4>
                    <h4 data-lang="en" style="display: none;">Culture & Arts</h4>
                    <p data-lang="zh">明代青花瓷、小说、绘画等文化艺术的辉煌成就</p>
                    <p data-lang="en" style="display: none;">Brilliant achievements in Ming blue-and-white porcelain, literature, and painting</p>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <a href="https://MingDynasty1.github.io/MgDyhistory.html" class="history-btn" data-lang="zh">探索大明历史</a>
                <a href="https://MingDynasty1.github.io/MgDyhistory.html" class="history-btn" data-lang="en" style="display: none;">Explore Ming History</a>
            </div>
        </div>
        
        <div class="main-content">
            <div class="content">
                <div class="card chinese-pattern">
                    <h2 data-lang="zh">置顶公告</h2>
                    <h2 data-lang="en" style="display: none;">Pinned Announcement</h2>
                    <p data-lang="zh">宣 <a href="https://www.luogu.com.cn/contest/247666">https://www.luogu.com.cn/contest/247666</a></p>
                    <p data-lang="en" style="display: none;">Announcement: <a href="https://www.luogu.com.cn/contest/247666">https://www.luogu.com.cn/contest/247666</a></p>
                </div>
                
                <!-- 贪吃蛇游戏 -->
                <div class="card">
                    <h2 data-lang="zh">大明贪吃蛇</h2>
                    <h2 data-lang="en" style="display: none;">Ming Snake Game</h2>
                    <div class="snake-game-container">
                        <h3 data-lang="zh">大明贪吃蛇</h3>
                        <h3 data-lang="en" style="display: none;">Ming Snake Game</h3>
                        <div class="snake-game-info">
                            <div class="snake-game-score" data-lang="zh">得分: <span id="snake-score">0</span></div>
                            <div class="snake-game-score" data-lang="en" style="display: none;">Score: <span id="snake-score-en">0</span></div>
                            <div class="snake-game-score" data-lang="zh">最高分: <span id="snake-high-score">0</span></div>
                            <div class="snake-game-score" data-lang="en" style="display: none;">High Score: <span id="snake-high-score-en">0</span></div>
                        </div>
                        <canvas id="snake-game-board" width="400" height="400" class="snake-game-board"></canvas>
                        <div class="snake-game-controls">
                            <button class="snake-game-btn" id="snake-start-btn" data-lang="zh">开始游戏</button>
                            <button class="snake-game-btn" id="snake-start-btn-en" data-lang="en" style="display: none;">Start Game</button>
                            <button class="snake-game-btn" id="snake-pause-btn" data-lang="zh">暂停</button>
                            <button class="snake-game-btn" id="snake-pause-btn-en" data-lang="en" style="display: none;">Pause</button>
                            <button class="snake-game-btn" id="snake-reset-btn" data-lang="zh">重新开始</button>
                            <button class="snake-game-btn" id="snake-reset-btn-en" data-lang="en" style="display: none;">Restart</button>
                        </div>
                        <div class="snake-game-instructions">
                            <h4 data-lang="zh">游戏说明：</h4>
                            <h4 data-lang="en" style="display: none;">Game Instructions:</h4>
                            <ul>
                                <li data-lang="zh">使用键盘方向键或WASD控制蛇的移动方向</li>
                                <li data-lang="en" style="display: none;">Use arrow keys or WASD to control the snake's direction</li>
                                <li data-lang="zh">吃到红色食物可以增加长度和得分</li>
                                <li data-lang="en" style="display: none;">Eat red food to increase length and score</li>
                                <li data-lang="zh">撞到墙壁或自己的身体会导致游戏结束</li>
                                <li data-lang="en" style="display: none;">Hitting walls or your own body ends the game</li>
                                <li data-lang="zh">每吃到一个食物得10分</li>
                                <li data-lang="en" style="display: none;">Each food gives 10 points</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h2 data-lang="zh">个人成就展示</h2>
                    <h2 data-lang="en" style="display: none;">Personal Achievements</h2>
                    <div class="image-container">
                        <img src="https://atrating.baoshuo.dev/rating?username=MingDynasty1" alt="洛谷评级">
                        <img src="https://cdn.luogu.com.cn/upload/image_hosting/x699deqh.png" alt="AT评级">
                        <img src="https://api.jerryz.com.cn/about?id=1015347&dark_mode=true&disable_cache=true" alt="洛谷信息">
                        <img src="https://api.jerryz.com.cn/shield?id=1015347&dark_mode=true&disable_cache=true" alt="洛谷盾牌">
                        <img src="https://api.jerryz.com.cn/guzhi?id=1015347&scores=100,68,44,88,30&dark_mode=true&disable_cache=true" alt="估值信息">
                        <img src="https://api.jerryz.com.cn/practice?id=1015347&dark_mode=true&disable_cache=true" alt="练习情况">
                    </div>
                </div>
                
                <!-- 计算器 -->
                <div class="card">
                    <h2 data-lang="zh">明朝风格计算器</h2>
                    <h2 data-lang="en" style="display: none;">Ming Style Calculator</h2>
                    <div class="calculator-container">
                        <h3 class="calculator-title" data-lang="zh">大明算器</h3>
                        <h3 class="calculator-title" data-lang="en" style="display: none;">Ming Calculator</h3>
                        
                        <div class="calculator-display" id="calc-display">0</div>
                        
                        <div class="calculator-buttons">
                            <button class="calc-btn calc-clear" onclick="clearCalcDisplay()">C</button>
                            <button class="calc-btn calc-operator" onclick="deleteLastCalc()">⌫</button>
                            <button class="calc-btn calc-operator" onclick="appendToCalcDisplay('/')">÷</button>
                            <button class="calc-btn calc-operator" onclick="appendToCalcDisplay('*')">×</button>
                            
                            <button class="calc-btn" onclick="appendToCalcDisplay('7')">7</button>
                            <button class="calc-btn" onclick="appendToCalcDisplay('8')">8</button>
                            <button class="calc-btn" onclick="appendToCalcDisplay('9')">9</button>
                            <button class="calc-btn calc-operator" onclick="appendToCalcDisplay('-')">-</button>
                            
                            <button class="calc-btn" onclick="appendToCalcDisplay('4')">4</button>
                            <button class="calc-btn" onclick="appendToCalcDisplay('5')">5</button>
                            <button class="calc-btn" onclick="appendToCalcDisplay('6')">6</button>
                            <button class="calc-btn calc-operator" onclick="appendToCalcDisplay('+')">+</button>
                            
                            <button class="calc-btn" onclick="appendToCalcDisplay('1')">1</button>
                            <button class="calc-btn" onclick="appendToCalcDisplay('2')">2</button>
                            <button class="calc-btn" onclick="appendToCalcDisplay('3')">3</button>
                            <button class="calc-btn calc-equals" onclick="calculateResult()">=</button>
                            
                            <button class="calc-btn" onclick="appendToCalcDisplay('0')">0</button>
                            <button class="calc-btn" onclick="appendToCalcDisplay('.')">.</button>
                        </div>
                        
                        <div class="calculator-decoration">
                            <span>◆</span>
                            <span>◆</span>
                            <span>◆</span>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h2 data-lang="zh">益智小游戏</h2>
                    <h2 data-lang="en" style="display: none;">Puzzle Games</h2>
                    <div class="game-card">
                        <h3 data-lang="zh">明朝华容道</h3>
                        <h3 data-lang="en" style="display: none;">Ming Klotski</h3>
                        <p data-lang="zh">体验传统益智游戏，挑战你的逻辑思维！</p>
                        <p data-lang="en" style="display: none;">Experience traditional puzzle games, challenge your logical thinking!</p>
                        <a href="https://mingdynasty1.github.io/game.html" class="game-btn" data-lang="zh">开始游戏</a>
                        <a href="https://mingdynasty1.github.io/game.html" class="game-btn" data-lang="en" style="display: none;">Start Game</a>
                    </div>
                    <div class="game-card">
                        <h3 data-lang="zh">2048数字游戏</h3>
                        <h3 data-lang="en" style="display: none;">2048 Number Game</h3>
                        <p data-lang="zh">挑战你的数字组合能力，创造更高的分数！</p>
                        <p data-lang="en" style="display: none;">Challenge your number combination skills, create higher scores!</p>
                        <a href="https://mingdynasty1.github.io/2048.html" class="game-btn" data-lang="zh">开始游戏</a>
                        <a href="https://mingdynasty1.github.io/2048.html" class="game-btn" data-lang="en" style="display: none;">Start Game</a>
                    </div>
                    <div class="game-card">
                        <h3 data-lang="zh">大明皇帝模拟器</h3>
                        <h3 data-lang="en" style="display: none;">Ming Emperor Simulator</h3>
                        <p data-lang="zh">体验明朝皇帝的生活，治理国家，创造盛世！</p>
                        <p data-lang="en" style="display: none;">Experience the life of a Ming emperor, govern the country, create prosperity!</p>
                        <a href="https://MingDynasty1.github.io/dmgame.html" class="game-btn" data-lang="zh">开始游戏</a>
                        <a href="https://MingDynasty1.github.io/dmgame.html" class="game-btn" data-lang="en" style="display: none;">Start Game</a>
                    </div>
                    <div class="game-card">
                        <h3 data-lang="zh">大明国庆</h3>
                        <h3 data-lang="en" style="display: none;">Ming National Day</h3>
                        <p data-lang="zh">庆祝大明国庆，体验明朝盛世的庆典活动！</p>
                        <p data-lang="en" style="display: none;">Celebrate Ming National Day, experience the celebration of Ming prosperity!</p>
                        <a href="https://mingdynasty1.github.io/dmhpy.html" class="game-btn" data-lang="zh">开始游戏</a>
                        <a href="https://mingdynasty1.github.io/dmhpy.html" class="game-btn" data-lang="en" style="display: none;">Start Game</a>
                    </div>
                    <!-- 新增人生模拟器卡片 -->
                    <div class="game-card">
                        <h3 data-lang="zh">人生模拟器</h3>
                        <h3 data-lang="en" style="display: none;">Life Simulator</h3>
                        <p data-lang="zh">体验不同的人生轨迹，探索命运的可能性！</p>
                        <p data-lang="en" style="display: none;">Experience different life paths, explore the possibilities of fate!</p>
                        <a href="https://MingDynasty1.github.io/People-Remake-Life.html" class="game-btn" data-lang="zh">开始体验</a>
                        <a href="https://MingDynasty1.github.io/People-Remake-Life.html" class="game-btn" data-lang="en" style="display: none;">Start Experience</a>
                    </div>
                    <!-- 新增贪吃蛇游戏卡片 -->
                    <div class="game-card">
                        <h3 data-lang="zh">贪吃蛇游戏</h3>
                        <h3 data-lang="en" style="display: none;">Snake Game</h3>
                        <p data-lang="zh">经典贪吃蛇游戏，挑战你的反应速度！</p>
                        <p data-lang="en" style="display: none;">Classic snake game, challenge your reaction speed!</p>
                        <a href="https://MingDynasty1.github.io/snakegame.html" class="game-btn" data-lang="zh">开始游戏</a>
                        <a href="https://MingDynasty1.github.io/snakegame.html" class="game-btn" data-lang="en" style="display: none;">Start Game</a>
                    </div>
                    <!-- 新增常见问题解答卡片 -->
                    <div class="game-card">
                        <h3 data-lang="zh">常见问题解答</h3>
                        <h3 data-lang="en" style="display: none;">FAQ</h3>
                        <p data-lang="zh">查看常见问题解答，解决使用中的疑问！</p>
                        <p data-lang="en" style="display: none;">Check frequently asked questions, solve usage doubts!</p>
                        <a href="https://MingDynasty1.github.io/FAQ.html" class="game-btn" data-lang="zh">查看FAQ</a>
                        <a href="https://MingDynasty1.github.io/FAQ.html" class="game-btn" data-lang="en" style="display: none;">View FAQ</a>
                    </div>
                </div>
                
                <div class="card">
                    <h2 data-lang="zh">如何在估值榜上找到我?</h2>
                    <h2 data-lang="en" style="display: none;">How to Find Me in the Valuation Rankings?</h2>
                    <p data-lang="zh">1.点击<a href="https://www.luogu.com.cn/ranking?orderBy=social&order=desc&page=8">这个</a>,找到第386名.</p>
                    <p data-lang="en" style="display: none;">1. Click <a href="https://www.luogu.com.cn/ranking?orderBy=social&order=desc&page=8">here</a>, find rank 386.</p>
                    <p data-lang="zh">2.点击<a href="https://www.luogu.com.cn/ranking?orderBy=practice&order=desc&page=8">这个</a>,找到第359名。</p>
                    <p data-lang="en" style="display: none;">2. Click <a href="https://www.luogu.com.cn/ranking?orderBy=practice&order=desc&page=8">here</a>, find rank 359.</p>
                    <p data-lang="zh">3.点击<a href="https://www.luogu.com.cn/ranking?page=11">这个</a>,找到第537名。</p>
                    <p data-lang="en" style="display: none;">3. Click <a href="https://www.luogu.com.cn/ranking?page=11">here</a>, find rank 537.</p>
                </div>
                
                <div class="card">
                    <h2 data-lang="zh">冲900个AC</h2>
                    <h2 data-lang="en" style="display: none;">Aiming for 900 AC</h2>
                    <p data-lang="zh">真正个性签名（地方写不下，很久以前的）：</p>
                    <p data-lang="en" style="display: none;">Real personal signature (not enough space, from long ago):</p>
                    <pre><code class="lang-cpp">最后在线时间|<span class="hljs-string">https://www.luogu.com.cn/team/76415欢迎加入</span>|<span class="hljs-string">小升初蒟蒻,欢迎吊打</span>|<span class="hljs-string">开局一个碗,结局一根绳</span>|<span class="hljs-string">最高排名807</span>|<span class="hljs-string">坐标:陕西宝鸡</span>|<span class="hljs-string">互关忘私(实名,3天內),误杀私</span>|<span class="hljs-string">禁止炸铃,炸铃杀</span>|<span class="hljs-string">题解不懂可私信</span>|<span class="hljs-string">删display none看主页</span>|<span class="hljs-string">估值前500进度:302-&gt;322</span>|<span class="hljs-string">已完成目标！(前1000）</span>|<span class="hljs-string">Even if the finish line is far away, we must walk to the end.</span></code></pre>
                    <p><a href="https://www.luogu.me/article/hu9a8skr" data-lang="zh">放不下的东西（主页链接）</a></p>
                    <p><a href="https://www.luogu.me/article/hu9a8skr" data-lang="en" style="display: none;">Things that don't fit (homepage link)</a></p>
                </div>
                
                <div class="card">
                    <h2 data-lang="zh">重要更新</h2>
                    <h2 data-lang="en" style="display: none;">Important Updates</h2>
                    <h3 data-lang="zh">upd on 2025.8.16 MgDy Round 2 已经开始了，欢迎报名！</h3>
                    <h3 data-lang="en" style="display: none;">upd on 2025.8.16 MgDy Round 2 has started, welcome to register!</h3>
                    <p data-lang="zh">查看<a href="https://mingdynasty1.github.io/gxrz.html">完整更新日志</a>了解网站发展历程。</p>
                    <p data-lang="en" style="display: none;">Check the <a href="https://mingdynasty1.github.io/gxrz.html">complete update log</a> to learn about the website development history.</p>
                </div>
            </div>
            
            <div class="sidebar">
                <h3 data-lang="zh">快速导航</h3>
                <h3 data-lang="en" style="display: none;">Quick Navigation</h3>
                <ul>
                    <li><a href="https://mingdynasty1.github.io/OImap.html" data-lang="zh">主页地图</a><a href="https://mingdynasty1.github.io/OImap.html" data-lang="en" style="display: none;">Home Map</a></li>
                    <li><a href="https://MingDynasty1.github.io/MgDy.html" data-lang="zh">个人信息</a><a href="https://MingDynasty1.github.io/MgDy.html" data-lang="en" style="display: none;">Personal Info</a></li>
                    <li><a href="https://MingDynasty1.github.io/MgDyhistory.html" data-lang="zh">大明历史</a><a href="https://MingDynasty1.github.io/MgDyhistory.html" data-lang="en" style="display: none;">Ming History</a></li>
                    <li><a href="https://MingDynasty1.github.io/luntan/index.html" data-lang="zh">大明论坛</a><a href="https://MingDynasty1.github.io/luntan/index.html" data-lang="en" style="display: none;">Ming Forum</a></li>
                    <li><a href="https://MingDynasty1.github.io/contact-us-MgDy.html" data-lang="zh">联系我们</a><a href="https://MingDynasty1.github.io/contact-us-MgDy.html" data-lang="en" style="display: none;">Contact Us</a></li>
                    <li><a href="https://MingDynasty1.github.io/film/index.html" data-lang="zh">大明电影</a><a href="https://MingDynasty1.github.io/film/index.html" data-lang="en" style="display: none;">Ming film</a></li>
             
                    <li><a href="https://www.luogu.com.cn/user/1015347" data-lang="zh">洛谷主页</a><a href="https://www.luogu.com.cn/user/1015347" data-lang="en" style="display: none;">Luogu Homepage</a></li>
                    <li><a href="https://github.com/MingDynasty1" data-lang="zh">GitHub主页</a><a href="https://github.com/MingDynasty1" data-lang="en" style="display: none;">GitHub Homepage</a></li>
                    <li><a href="https://MingDynasty1.github.io/MapMgDy.html" data-lang="zh">大明导航</a><a href="https://MingDynasty1.github.io/MapMgDy.html" data-lang="en" style="display: none;">Ming Navigation</a></li>
                    <li><a href="https://MingDynasty1.github.io/OnlineJudge/index.html" data-lang="zh">免费网盘</a><a href="https://MingDynasty1.github.io/OnlineJudge/index.html" data-lang="en" style="display: none;">Free Cloud Storage</a></li>
                    <li><a href="https://mingdynasty1.github.io/friends/friends.md" data-lang="zh">友情链接</a><a href="https://mingdynasty1.github.io/friends/friends.md" data-lang="en" style="display: none;">Friends Links</a></li>
                    <li><a href="https://mingdynasty1.github.io/cbpan_help/MingDynasty_cbpan_help.html" data-lang="zh">网盘帮助</a><a href="https://mingdynasty1.github.io/cbpan_help/MingDynasty_cbpan_help.html" data-lang="en" style="display: none;">Cloud Storage Help</a></li>
                    <li><a href="https://mingdynasty1.github.io/game.html" data-lang="zh">益智小游戏</a><a href="https://mingdynasty1.github.io/game.html" data-lang="en" style="display: none;">Puzzle Games</a></li>
                    <li><a href="https://mingdynasty1.github.io/2048.html" data-lang="zh">2048游戏</a><a href="https://mingdynasty1.github.io/2048.html" data-lang="en" style="display: none;">2048 Game</a></li>
                    <li><a href="https://mingdynasty1.github.io/gxrz.html" data-lang="zh">更新日志</a><a href="https://mingdynasty1.github.io/gxrz.html" data-lang="en" style="display: none;">Update Log</a></li>
                    <li><a href="https://MingDynasty1.github.io/calc.html" data-lang="zh">计算器</a><a href="https://MingDynasty1.github.io/calc.html" data-lang="en" style="display: none;">Calculator</a></li>
                    <li><a href="https://MingDynasty1.github.io/dmgame.html" data-lang="zh">大明皇帝模拟器</a><a href="https://MingDynasty1.github.io/dmgame.html" data-lang="en" style="display: none;">Ming Emperor Simulator</a></li>
                    <li><a href="https://mingdynasty1.github.io/dmhpy.html" data-lang="zh">大明国庆</a><a href="https://mingdynasty1.github.io/dmhpy.html" data-lang="en" style="display: none;">Ming National Day</a></li>
                     <li><a href="https://mingdynasty1.github.io/news/" data-lang="zh">大明新闻</a><a href="https://mingdynasty1.github.io/news/" data-lang="en" style="display: none;">Ming News</a></li>
                    <!-- 添加人生模拟器链接 -->
                    <li></li><a href="https://MingDynasty1.github.io/days/" data-lang="zh">大明日历</a><a href="https://MingDynasty1.github.io/days/" data-lang="en" style="display: none;">Ming Date</a></li>
                    <li><a href="https://mingdynasty1.github.io/code/index.html" data-lang="zh">大明 OJ</a><a href="https://mingdynasty1.github.io/code/index.html" data-lang="en" style="display: none;">Ming OnlineJudge</a></li>
                    <!-- 添加贪吃蛇游戏链接 -->
                    <li><a href="https://mingdynasty1.github.io/Check-for-People-Robot.html" data-lang="zh">人机验证</a><a href="https://mingdynasty1.github.io/Check-for-People-Robot.html" data-lang="en" style="display: none;">Home Navigation</a></li>
                    <li><a href="https://MingDynasty1.github.io/snakegame.html" data-lang="zh">贪吃蛇游戏</a><a href="https://MingDynasty1.github.io/snakegame.html" data-lang="en" style="display: none;">Snake Game</a></li>
                    <!-- 添加常见问题解答链接 -->
                    <li><a href="https://MingDynasty1.github.io/FAQ.html" data-lang="zh">常见问题解答</a><a href="https://MingDynasty1.github.io/FAQ.html" data-lang="en" style="display: none;">FAQ</a></li>
                    <!-- 添加博客主页链接 -->
                    <li><a href="https://MingDynasty1.github.io/blog/index.html" style="font-weight: bold; color: var(--accent-color);" data-lang="zh">博客主页</a><a href="https://MingDynasty1.github.io/blog/index.html" style="font-weight: bold; color: var(--accent-color); display: none;" data-lang="en">Blog Homepage</a></li>
                </ul>
                
                <h3 data-lang="zh">个人简介</h3>
                <h3 data-lang="en" style="display: none;">Personal Profile</h3>
                <p data-lang="zh">7年级蒟蒻,欢迎吊打</p>
                <p data-lang="en" style="display: none;">7th grade rookie, welcome to challenge</p>
                <p data-lang="zh">坐标: 陕西西安</p>
                <p data-lang="en" style="display: none;">Location: Xi'an, Shaanxi</p>
                <p data-lang="zh">最高排名: 304</p>
                <p data-lang="en" style="display: none;">Highest Ranking: 304</p>
                
                <h3 data-lang="zh">座右铭</h3>
                <h3 data-lang="en" style="display: none;">Motto</h3>
                <p class="ming-decoration">Even if the finish line is far away, we must walk to the end.</p>
                
                <div class="game-card">
                    <h3 data-lang="zh">大明寿司派对（华容道）</h3>
                    <h3 data-lang="en" style="display: none;">Ming Sushi Party (Klotski)</h3>
                    <p data-lang="zh">挑战传统智力游戏</p>
                    <p data-lang="en" style="display: none;">Challenge traditional puzzle game</p>
                    <a href="https://mingdynasty1.github.io/game.html" class="game-btn" data-lang="zh">开始游戏</a>
                    <a href="https://mingdynasty1.github.io/game.html" class="game-btn" data-lang="en" style="display: none;">Start Game</a>
                </div>
                
                <div class="game-card">
                    <h3 data-lang="zh">2048数字游戏</h3>
                    <h3 data-lang="en" style="display: none;">2048 Number Game</h3>
                    <p data-lang="zh">挑战数字组合能力</p>
                    <p data-lang="en" style="display: none;">Challenge number combination skills</p>
                    <a href="https://mingdynasty1.github.io/2048.html" class="game-btn" data-lang="zh">开始游戏</a>
                    <a href="https://mingdynasty1.github.io/2048.html" class="game-btn" data-lang="en" style="display: none;">Start Game</a>
                </div>
                
                <div class="game-card">
                    <h3 data-lang="zh">大明皇帝模拟器</h3>
                    <h3 data-lang="en" style="display: none;">Ming Emperor Simulator</h3>
                    <p data-lang="zh">体验明朝皇帝的生活</p>
                    <p data-lang="en" style="display: none;">Experience life as a Ming emperor</p>
                    <a href="https://MingDynasty1.github.io/dmgame.html" class="game-btn" data-lang="zh">开始游戏</a>
                    <a href="https://MingDynasty1.github.io/dmgame.html" class="game-btn" data-lang="en" style="display: none;">Start Game</a>
                </div>
                
                <div class="game-card">
                    <h3 data-lang="zh">大明国庆</h3>
                    <h3 data-lang="en" style="display: none;">Ming National Day</h3>
                    <p data-lang="zh">庆祝明朝盛世的庆典</p>
                    <p data-lang="en" style="display: none;">Celebrate Ming prosperity celebrations</p>
                    <a href="https://mingdynasty1.github.io/dmhpy.html" class="game-btn" data-lang="zh">开始游戏</a>
                    <a href="https://mingdynasty1.github.io/dmhpy.html" class="game-btn" data-lang="en" style="display: none;">Start Game</a>
                </div>

                <div class="game-card">
                    <h3 data-lang="zh">更新日志</h3>
                    <h3 data-lang="en" style="display: none;">Update Log</h3>
                    <p data-lang="zh">了解网站发展历程</p>
                    <p data-lang="en" style="display: none;">Learn about website development history</p>
                    <a href="https://mingdynasty1.github.io/gxrz.html" class="game-btn" data-lang="zh">查看日志</a>
                    <a href="https://mingdynasty1.github.io/gxrz.html" class="game-btn" data-lang="en" style="display: none;">View Log</a>
                </div>
                
                <div class="game-card">
                    <h3 data-lang="zh">计算器</h3>
                    <h3 data-lang="en" style="display: none;">Calculator</h3>
                    <p data-lang="zh">明朝风格计算器</p>
                    <p data-lang="en" style="display: none;">Ming style calculator</p>
                    <a href="https://MingDynasty1.github.io/calc.html" class="game-btn" data-lang="zh">使用计算器</a>
                    <a href="https://MingDynasty1.github.io/calc.html" class="game-btn" data-lang="en" style="display: none;">Use Calculator</a>
                </div>
                
                <div class="game-card">
                    <h3 data-lang="zh">大明历史</h3>
                    <h3 data-lang="en" style="display: none;">Ming History</h3>
                    <p data-lang="zh">探索明朝历史与文化</p>
                    <p data-lang="en" style="display: none;">Explore Ming history and culture</p>
                    <a href="https://MingDynasty1.github.io/MgDyhistory.html" class="game-btn" data-lang="zh">探索历史</a>
                    <a href="https://MingDynasty1.github.io/MgDyhistory.html" class="game-btn" data-lang="en" style="display: none;">Explore History</a>
                </div>
                
                <!-- 新增人生模拟器卡片 -->
                <div class="game-card">
                    <h3 data-lang="zh">人生模拟器</h3>
                    <h3 data-lang="en" style="display: none;">Life Simulator</h3>
                    <p data-lang="zh">体验不同的人生轨迹</p>
                    <p data-lang="en" style="display: none;">Experience different life paths</p>
                    <a href="https://MingDynasty1.github.io/People-Remake-Life.html" class="game-btn" data-lang="zh">开始体验</a>
                    <a href="https://MingDynasty1.github.io/People-Remake-Life.html" class="game-btn" data-lang="en" style="display: none;">Start Experience</a>
                </div>
                
                <!-- 新增贪吃蛇游戏卡片 -->
                <div class="game-card">
                    <h3 data-lang="zh">贪吃蛇游戏</h3>
                    <h3 data-lang="en" style="display: none;">Snake Game</h3>
                    <p data-lang="zh">经典贪吃蛇游戏</p>
                    <p data-lang="en" style="display: none;">Classic snake game</p>
                    <a href="https://MingDynasty1.github.io/snakegame.html" class="game-btn" data-lang="zh">开始游戏</a>
                    <a href="https://MingDynasty1.github.io/snakegame.html" class="game-btn" data-lang="en" style="display: none;">Start Game</a>
                </div>
                
                <!-- 新增常见问题解答卡片 -->
                <div class="game-card">
                    <h3 data-lang="zh">常见问题解答</h3>
                    <h3 data-lang="en" style="display: none;">FAQ</h3>
                    <p data-lang="zh">查看常见问题解答</p>
                    <p data-lang="en" style="display: none;">Check frequently asked questions</p>
                    <a href="https://MingDynasty1.github.io/FAQ.html" class="game-btn" data-lang="zh">查看FAQ</a>
                    <a href="https://MingDynasty1.github.io/FAQ.html" class="game-btn" data-lang="en" style="display: none;">View FAQ</a>
                </div>
                
                <div class="game-card">
                    <h3 data-lang="zh">联系我们</h3>
                    <h3 data-lang="en" style="display: none;">Contact Us</h3>
                    <p data-lang="zh">有任何问题或建议？联系我们！</p>
                    <p data-lang="en" style="display: none;">Any questions or suggestions? Contact us!</p>
                    <a href="https://MingDynasty1.github.io/contact-us-MgDy.html" class="game-btn" data-lang="zh">联系我们</a>
                    <a href="https://MingDynasty1.github.io/contact-us-MgDy.html" class="game-btn" data-lang="en" style="display: none;">Contact Us</a>
                </div>
                
                <div class="game-card">
                    <h3 data-lang="zh">博客主页</h3>
                    <h3 data-lang="en" style="display: none;">Blog Homepage</h3>
                    <p data-lang="zh">查看皇帝的技术文章与思考</p>
                    <p data-lang="en" style="display: none;">View the emperor's technical articles and thoughts</p>
                    <a href="https://MingDynasty1.github.io/blog/index.html" class="game-btn" data-lang="zh">访问博客</a>
                    <a href="https://MingDynasty1.github.io/blog/index.html" class="game-btn" data-lang="en" style="display: none;">Visit Blog</a>
                </div>
            </div>
        </div>
    </div>
<script src="https://giscus.app/client.js"
        data-repo="mingdynasty1/mingdynasty1.github.io"
        data-repo-id="R_kgDOO2Ztqw"
        data-category="General"
        data-category-id="DIC_kwDOO2Ztq84CwOsd"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="noborder_dark"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
</script>
    <footer>
        <div class="container">
            <p data-lang="zh">© 2013-2025 MingDynasty,Inc. MingDynasty 的个人主页 | 灵感源于明朝美学</p>
            <p data-lang="en" style="display: none;">© 2013-2025 MingDynasty,Inc. MingDynasty's Personal Homepage | Inspired by Ming Dynasty Aesthetics</p>
            <p data-lang="zh">开局一个碗，结局一根绳 | 传承与创新 | <a href="https://mingdynasty1.github.io/gxrz.html" style="color: #f8f3e6;">查看更新日志</a></p>
            <p data-lang="en" style="display: none;">Start with a bowl, end with a rope | Inheritance and Innovation | <a href="https://mingdynasty1.github.io/gxrz.html" style="color: #f8f3e6;">View Update Log</a></p>
            
            <!-- 添加运行天数统计 -->
            <p style="margin-top: 10px; font-size: 0.9rem;">
                <span data-lang="zh">今天是本站运行的第 <span id="days-running">0</span> 天</span>
                <span data-lang="en" style="display: none;">This site has been running for <span id="days-running-en">0</span> days</span>
            </p>
            
            <!-- 添加ICP备案信息 -->
            <p style="margin-top: 10px; font-size: 0.9rem;">
                <a href="https://icp.gov.moe/?keyword=20250643" target="_blank" style="color: #f8f3e6; text-decoration: underline;" data-lang="zh">萌ICP备20250643号</a>
                <a href="https://icp.gov.moe/?keyword=20250643" target="_blank" style="color: #f8f3e6; text-decoration: underline; display: none;" data-lang="en">MoeICP No. 20250643</a>
            </p>
        </div>
    </footer>

    <!-- Font Awesome 图标 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>

    <!-- 外部JavaScript文件 -->
    <script src="server_mingdynasty1.js"></script>
    
    <!-- 每日打卡功能JavaScript -->
    <script>
        // 每日打卡功能
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化打卡数据
            let checkinData = {
                consecutiveDays: 0,
                totalDays: 0,
                lastCheckinDate: null,
                todayFortune: null,
                history: []
            };
            
            // 从localStorage加载打卡数据
            function loadCheckinData() {
                const savedData = localStorage.getItem('mingDynastyCheckinData');
                if (savedData) {
                    checkinData = JSON.parse(savedData);
                }
                updateCheckinDisplay();
            }
            
            // 保存打卡数据到localStorage
            function saveCheckinData() {
                localStorage.setItem('mingDynastyCheckinData', JSON.stringify(checkinData));
            }
            
            // 更新打卡显示
            function updateCheckinDisplay() {
                document.getElementById('consecutive-days').textContent = checkinData.consecutiveDays;
                document.getElementById('total-days').textContent = checkinData.totalDays;
                
                // 更新今日运势显示
                if (checkinData.todayFortune) {
                    document.getElementById('today-fortune').textContent = checkinData.todayFortune.level;
                    document.getElementById('fortune-level').textContent = checkinData.todayFortune.level;
                    document.getElementById('fortune-message').textContent = checkinData.todayFortune.message;
                    document.getElementById('fortune-message-en').textContent = checkinData.todayFortune.messageEn;
                    
                    // 设置运势颜色
                    const fortuneLevel = document.getElementById('fortune-level');
                    fortuneLevel.className = 'fortune-level';
                    switch(checkinData.todayFortune.level) {
                        case '§大凶§':
                            fortuneLevel.classList.add('fortune-daxiong');
                            break;
                        case '§凶§':
                            fortuneLevel.classList.add('fortune-xiong');
                            break;
                        case '§中平§':
                            fortuneLevel.classList.add('fortune-zhongping');
                            break;
                        case '§小吉§':
                            fortuneLevel.classList.add('fortune-xiaoji');
                            break;
                        case '§大吉§':
                            fortuneLevel.classList.add('fortune-daji');
                            break;
                    }
                }
                
                // 更新打卡历史
                const historyList = document.getElementById('checkin-history-list');
                historyList.innerHTML = '';
                
                if (checkinData.history.length === 0) {
                    const noRecordZh = document.createElement('li');
                    noRecordZh.innerHTML = '<span class="checkin-date">暂无记录</span><span class="checkin-fortune">-</span>';
                    noRecordZh.setAttribute('data-lang', 'zh');
                    
                    const noRecordEn = document.createElement('li');
                    noRecordEn.innerHTML = '<span class="checkin-date">No records</span><span class="checkin-fortune">-</span>';
                    noRecordEn.setAttribute('data-lang', 'en');
                    noRecordEn.style.display = 'none';
                    
                    historyList.appendChild(noRecordZh);
                    historyList.appendChild(noRecordEn);
                } else {
                    // 显示最近7天的记录
                    const recentHistory = checkinData.history.slice(-7).reverse();
                    recentHistory.forEach(record => {
                        const listItem = document.createElement('li');
                        listItem.innerHTML = `<span class="checkin-date">${record.date}</span><span class="checkin-fortune">${record.fortune}</span>`;
                        historyList.appendChild(listItem);
                    });
                }
                
                // 检查今天是否已经打卡
                const today = new Date().toDateString();
                if (checkinData.lastCheckinDate === today) {
                    document.getElementById('checkin-btn').disabled = true;
                    document.getElementById('checkin-btn-en').disabled = true;
                    document.getElementById('checkin-btn').textContent = '今日已打卡';
                    document.getElementById('checkin-btn-en').textContent = 'Already Checked-in Today';
                } else {
                    document.getElementById('checkin-btn').disabled = false;
                    document.getElementById('checkin-btn-en').disabled = false;
                    document.getElementById('checkin-btn').textContent = '抽签打卡';
                    document.getElementById('checkin-btn-en').textContent = 'Draw Fortune & Check-in';
                }
            }
            
            // 随机生成运势
            function generateFortune() {
                const fortunes = [
                    {
                        level: '§大凶§',
                        message: '今日运势不佳，诸事不宜，宜静不宜动',
                        messageEn: 'Bad luck today, avoid major decisions, stay calm'
                    },
                    {
                        level: '§凶§',
                        message: '今日运势稍差，小心谨慎，避免冒险',
                        messageEn: 'Slightly bad luck today, be cautious, avoid risks'
                    },
                    {
                        level: '§中平§',
                        message: '今日运势平平，稳扎稳打，静待时机',
                        messageEn: 'Average luck today, steady progress, wait for opportunities'
                    },
                    {
                        level: '§小吉§',
                        message: '今日运势不错，小有收获，宜积极行动',
                        messageEn: 'Good luck today, small gains, take positive action'
                    },
                    {
                        level: '§大吉§',
                        message: '今日运势极佳，万事顺利，心想事成',
                        messageEn: 'Excellent luck today, everything goes smoothly, wishes come true'
                    }
                ];
                
                // 权重：大凶10%，凶20%，中平30%，小吉25%，大吉15%
                const weights = [0.1, 0.2, 0.3, 0.25, 0.15];
                let random = Math.random();
                let cumulativeWeight = 0;
                
                for (let i = 0; i < weights.length; i++) {
                    cumulativeWeight += weights[i];
                    if (random <= cumulativeWeight) {
                        return fortunes[i];
                    }
                }
                
                // 默认返回中平
                return fortunes[2];
            }
            
            // 处理打卡按钮点击
            function handleCheckin() {
                const today = new Date().toDateString();
                
                // 检查是否已经打卡
                if (checkinData.lastCheckinDate === today) {
                    alert('今天已经打卡过了！');
                    return;
                }
                
                // 生成运势
                const fortune = generateFortune();
                
                // 更新连续打卡天数
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                const yesterdayString = yesterday.toDateString();
                
                if (checkinData.lastCheckinDate === yesterdayString) {
                    checkinData.consecutiveDays++;
                } else if (checkinData.lastCheckinDate !== today) {
                    checkinData.consecutiveDays = 1;
                }
                
                // 更新总打卡天数
                checkinData.totalDays++;
                
                // 更新最后打卡日期和今日运势
                checkinData.lastCheckinDate = today;
                checkinData.todayFortune = fortune;
                
                // 添加到历史记录
                checkinData.history.push({
                    date: new Date().toLocaleDateString('zh-CN'),
                    fortune: fortune.level
                });
                
                // 保存数据并更新显示
                saveCheckinData();
                updateCheckinDisplay();
                
                // 显示打卡成功消息
                alert(`打卡成功！\n今日运势：${fortune.level}\n${fortune.message}`);
            }
            
            // 绑定打卡按钮事件
            document.getElementById('checkin-btn').addEventListener('click', handleCheckin);
            document.getElementById('checkin-btn-en').addEventListener('click', handleCheckin);
            
            // 初始化
            loadCheckinData();
        });
    </script>
</body>
</html>



